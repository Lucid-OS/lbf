<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">

<link rel="icon"
      href="favicon/favicon.ico">

<link rel="stylesheet" type="text/css" href="./stylesheets/stylesheet.css" media="screen">
<link rel="stylesheet" type="text/css" href="./stylesheets/pygment_trac.css" media="screen">
<link rel="stylesheet" type="text/css" href="./stylesheets/sidebar.css" media="screen">
<link rel="stylesheet" type="text/css" href="./stylesheets/downloads.css" media="screen">
<link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen">
<link rel="stylesheet" type="text/css" href="../stylesheets/pygment_trac.css" media="screen">
<link rel="stylesheet" type="text/css" href="../stylesheets/sidebar.css" media="screen">
<link rel="stylesheet" type="text/css" href="../stylesheets/downloads.css" media="screen">

<title>Linux Build Framework by Edward &quot;Edge226&quot; Tunnah</title>

</head>

<body>

  <header>
    <div class="container">

<h1>Linux Build Framework</h1>
<h2>A framework to build Linux distributions.</h2>

<section class="downloads">
  <nav>
    <a href="https://github.com/lucid-os/lbf/zipball/dev" class="top-btn">Download as .zip</a>
    <a href="https://github.com/lucid-os/lbf/tarball/dev" class="top-btn">Download as .tar.gz</a>
    <a href="https://github.com/lucid-os/lbf" class="top-btn" target="_blank">View on GitHub</a>
  </nav>
</section>

    </div>
  </header>

<section class="sidebar">
  <nav class="menu">
    <ul class="tree">
      <li>
        <label for="menu_heading1" class="menu-heading">My Websites</label>
        <input type="checkbox" class="menu-heading-box" checked="" disabled="" id="menu_heading1">
        <ul class="subtree">
          <li><a href="http://edge226.github.io/" class="menu-entry">Edge226</a></li>
          <li>
            <label for="menu_subheading1" class="menu-subheading">Projects</label>
            <input type="checkbox" class="menu-heading-box" id="menu_subheading1">
            <ul class="subtree">
              <li>
                <label for="menu_subheading2" class="menu-subheading">Lucid OS</label>
                <input type="checkbox" class="menu-heading-box" id="menu_subheading2">
                <ul class="subtree">
                  <li><a href="http://edge226.github.io/lucid/" class="menu-entry">Roadmap</a></li>
                  <li><a href="http://edge226.github.io/projects/" class="menu-entry">Projects Table</a></li>
                  <li><a href="http://lucid-os.github.io/lbf/" class="menu-entry">lbf</a></li>
                </ul>
              </li>
              <li>
                <label for="menu_subheading3" class="menu-subheading">ghmd-ccs</label>
                <input type="checkbox" class="menu-heading-box" id="menu_subheading3">
                <ul class="subtree">
                  <li><a href="http://edge226.github.io/ghmd-ccs/" class="menu-entry">Information</a></li>
                  <li><a href="http://edge226.github.io/ghmd-ccs/info/psb.html" class="menu-entry">Push Sidebar</a></li>
                </ul>
              </li>
              <li><a href="http://edge226.github.io/getrepos/" class="menu-entry">getrepos</a></li>
            </ul>
          </li>
          <li>
            <label for="menu_subheading4" class="menu-subheading">Tutorials</label>
            <input type="checkbox" class="menu-heading-box" id="menu_subheading4">
            <ul class="subtree">
              <li><a href="http://edge226.github.io/tutorials/" class="menu-entry">Index</a></li>
              <li><a href="http://edge226.github.io/tutorials/help/gethelp.html" class="menu-entry">Get Linux help!</a></li>
            </ul>
          </li>
          <li><label for="menu_subheading5" class="menu-subheading">Comp-Sci Experiments</label><input type="checkbox" class="menu-heading-box" id="menu_subheading5"></li>
        </ul>
      </li>
      <li>
        <label for="menu_heading2" class="menu-heading">Communities</label>
        <input type="checkbox" class="menu-heading-box" checked="" disabled="" id="menu_heading2">
        <ul class="subtree">
          <li><a href="http://www.cupoflinux.com" target="_blank" class="menu-entry">Cup of Linux</a></li>
          <li><a href="http://techandcoffee.info/" target="_blank" class="menu-entry">Tech & Coffee</a></li>
        </ul>
      </li>
      <li>
        <label for="menu_heading3" class="menu-heading">Friends of Mine</label>
        <input type="checkbox" class="menu-heading-box" checked="" disabled="" id="menu_heading3">
        <ul class="subtree">
          <li><a href="https://github.com/anexation" target="_blank" class="menu-entry">Anex</a></li>
          <li><a href="https://github.com/JeroenMathon" target="_blank" class="menu-entry">Jeroen Mathon</a></li>
        </ul>
      </li>
    </ul>
  </nav>
</section>

  <div class="container">

    <section id="main_content">

<h3>Information on the metadata checkdeps creates.</h3>

<h4>What each of the files do:</h4>

<h5>Origin Files.</h5>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>origin</td>
<td>Keeps track of all packages that have already been checked. This list includes packages that have no PKGBUILD file itself.</td>
</tr>
<tr>
<td>suborigin</td>
<td>Keeps track of all packages to be checked. This is the global check file.</td>
</tr>
<tr>
<td>origin_list</td>
<td>This is used to create the recursive capabilities of the origin system. These files are created for each search list needed. Each step of recursion will have its own orgin_list file. The starting search parameter will have an origin_list file and every dependency will have its own origin_list file.</td>
</tr>
<tr>
<td>origin_list_old</td>
<td>Once an origin list has been scanned and checked the origin_list is renamed to origin_list_old. This prevents checking of packages that have already been checked.</td>
</tr>
<tr>
<td>origin_&quot;search name&quot;</td>
<td>&quot;Search name&quot; will be the search parameter you send at checkdeps using the -n flag. This keeps track of all dependencies created within a single search, What originated the search for this package and the repository name of where this package is located.</td>
</tr>
</tbody></table>

<h5>Metadata files created by checkdeps.</h5>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>deps</td>
<td>Dependencies of the package.</td>
</tr>
<tr>
<td>makedeps</td>
<td>Make dependencies of the package.</td>
</tr>
<tr>
<td>checkdeps</td>
<td>Check dependencies of the package.</td>
</tr>
<tr>
<td>provides</td>
<td>Packages the PKGBUILD provides that will not have their own PKGBUILD file.</td>
</tr>
<tr>
<td>treeloc</td>
<td>The location in the checkdeps tree. This can be used to find the package information in the created tree.</td>
</tr>
<tr>
<td>spawned_from</td>
<td>What originated the search on this package.</td>
</tr>
<tr>
<td>repo</td>
<td>The repository name and location of the PKGBUILD file.</td>
</tr>
</tbody></table>

<h4>How the origin system works.</h4>

<h5>Stage 1.</h5>

<p>In this stage preliminary data is obtained that allows us to start scanning PKGBUILD files.</p>

<ol>
<li>The initial scan of the pkg or group is created and placed in an array list.</li>
<li>The working directory for the search is created.</li>
<li>Each entry is checked against the origin file to make sure it has not already gone through the scanning process.</li>
<li>Each entry is checked against the suborigin file so we do not add entries to the suborigin file twice.</li>
<li>We check to see if there is an origin_list_old file. If there is, We do not do a search for this.</li>
<li>If the entry needs to be processed, It is added to the suborigin file and the appropriate origin_list file.</li>
<li>We now have an origin_list file to work from.</li>
</ol>

<h5>Stage 2.</h5>

<p>In this stage we have the data required to scan and gather more information about each PKGBUILD file.</p>

<p>The origin_list file created in Stage 1 is read and goes through the following process:</p>

<ol>
<li>A directory is created with the name of the program in the appropriate location.</li>
<li>The PKGBUILD for the package is scanned.</li>
<li>As dependencies are checked they are written to the suborigin and origin_list file.</li>
<li>The dependency information is written to the corresponding deps, checkdeps or makedeps file.</li>
<li>The repo information is written to the repo file.</li>
<li>The location within the checkdeps tree are written to the treeloc file.</li>
<li>The information of what originated the program search is written to the spawned_from file.</li>
<li>What the package provides is written to the provides file.</li>
<li>The origin_&quot;search name&quot; file is written to include all searches on this particular search.</li>
<li>The origin file is written with the package name that was processed.</li>
<li>The next package from the Stage 1 is processed, Repeating Stage 2. When there are no more entries in the origin_list file we move onto Stage 3.</li>
</ol>

<h5>Stage 3.</h5>

<p>Essentially Stage 3 consist of a recursive action upon Stage 2. We now have many origin_list files and each one of them is processed as described in Stage 2. The recursion only stops when there are no more origin_list files to process.</p>

<table><thead>
<tr>
<th><a href="../index.html">Back to lbf documentation.</a></th>
<th><a href="index.html">Back to checkdeps index.</a></th>
</tr>
</thead><tbody>
</tbody></table>

    </section>
  </div>

<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    var pageTracker = _gat._getTracker("UA-38401226-6");
    pageTracker._trackPageview();
  } catch (err) {}
</script>

</body>

</html>
